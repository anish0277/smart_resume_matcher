{% extends "base.html" %}

{% block content %}
<div class="row">
  <div class="col-lg-4 mb-3">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h4>Job Description (Input)</h4>
        <p class="small text-muted">
          For reference, here is the job description you provided:
        </p>
        <div class="border rounded p-2 jd-box">
          <pre class="small mb-0">{{ job_description }}</pre>
        </div>
        <a href="{{ url_for('index') }}" class="btn btn-secondary btn-sm mt-3">
          Run Again
        </a>
      </div>
    </div>
  </div>

  <div class="col-lg-8 mb-3">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h4>Agentic AI Analysis Result</h4>
        <p class="small text-muted">
          Below are the sections generated by the multi-agent Crew
          (Resume Analyst, JD Analyst, Matching Specialist, Interview Coach).
        </p>
        <hr />

        <h5 class="mt-3">1. Resume Analysis</h5>
        <div class="markdown-output mb-3">
          <pre>{{ result.resume_analysis }}</pre>
        </div>

        <h5 class="mt-3">2. Job Description Analysis</h5>
        <div class="markdown-output mb-3">
          <pre>{{ result.jd_analysis }}</pre>
        </div>

        <h5 class="mt-3">3. Match Summary</h5>
        <div class="markdown-output mb-3">
          <pre>{{ result.match_summary }}</pre>
        </div>

        <h5 class="mt-3">4. Interview Preparation</h5>
        <div class="markdown-output mb-3">
          <pre>{{ result.interview_prep }}</pre>
        </div>

        {# Optional: show raw combined markdown at bottom #}
        {#
        <h5 class="mt-4">Raw Combined Markdown</h5>
        <div class="markdown-output">
          <pre>{{ result.full_markdown }}</pre>
        </div>
        #}
      </div>
    </div>
  </div>
</div>
{% endblock %}
